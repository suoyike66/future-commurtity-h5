import{B as r}from"./base-util-LDrhyDoM.js";import{B as t}from"./index-Dh5izbV7.js";function a(e){return/^1([3456789])\d{9}$/.test(e)}const o="user-store",p=t(o,{state:()=>({deptList:[],orgList:[],roleList:[],permissionMap:{},userInfo:void 0,user:void 0}),getters:{userName:e=>e.userInfo?.userInfoName||e.user?.userName||"请登录",avatar:e=>{const s=e.userInfo?.headPath||e.user?.headPath;if(s)return r.getUploadPath(s)}},actions:{setInfo(e){this.$patch({deptList:e.deptList,orgList:e.orgList,roleList:e.roleList,permissionMap:e.permissionMap,userInfo:e.userInfo,user:{...e}})},clearInfo(){this.$patch({deptList:[],orgList:[],roleList:[],permissionMap:{},userInfo:void 0,user:void 0})}},persist:{key:o,storage:localStorage}});export{a as i,p as u};
